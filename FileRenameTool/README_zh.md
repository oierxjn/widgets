# 文件重命名工具

## 简介
这是一个功能强大的文件重命名工具，支持图形用户界面（GUI）和命令行两种使用方式。用户可以根据自己的需求设置多种重命名规则，如设置最大文件名长度、添加前缀、匹配特定前缀或后缀、匹配特定字符以及删除特定字符等。

## 功能特性
1. **多规则重命名**：支持设置最大文件名长度、添加前缀、匹配文件名前缀、匹配文件后缀、匹配特定字符以及删除特定字符等多种重命名规则。
2. **递归处理**：可以递归遍历指定目录及其子目录，对其中的所有文件进行重命名操作。
3. **进度显示**：在GUI模式下，提供进度条显示重命名的进度，方便用户了解操作状态。
4. **错误日志**：重命名过程中出现的错误会记录到 `rename_errors.log` 文件中，方便用户排查问题。
5. **自动滚动**：在GUI模式下，可选择是否让结果文本框自动滚动到最底部，便于查看最新的重命名信息。

## 安装与使用

### 安装
该工具基于Python编写，无需额外安装，只需确保你的系统中已安装Python 3.x 版本。

### GUI模式
直接运行 `FileRenameTool.py` 文件，无需任何参数，程序将自动打开图形用户界面：
```bash
python FileRenameTool.py
```
在GUI界面中，你可以按照以下步骤进行操作：
1. **选择目录**：点击“选择目录”按钮，选择要重命名文件所在的目录。
2. **设置重命名规则**：在相应的输入框中输入最大文件名长度、重命名前缀、匹配的文件名前缀、匹配文件后缀、匹配重命名文件字符和重命名删除字符等规则。多关键字用逗号分隔，关键字为空则不启用对应规则。
3. **自动滚动设置**：勾选“文本框自动滚动到最底部”复选框，结果文本框将在有新信息时自动滚动到最底部。
4. **开始重命名**：点击“开始重命名”按钮，程序将开始按照你设置的规则对文件进行重命名操作，并在进度条中显示当前进度。

### 命令行模式
在命令行中运行 `FileRenameTool.py` 文件，并传入相应的参数：
```bash
python FileRenameTool.py <directory> [--max_length <max_length>] [--prefix <prefix>] [--match_prefix <match_prefix>] [--file_extensions <file_extensions>] [--match_chars <match_chars>] [--remove_chars <remove_chars>]
```

| 参数 | 是否必需 | 说明 | 默认值 |
| --- | --- | --- | --- |
| `<directory>` | 是 | 指定要重命名文件的目录 | 无 |
| `--max_length` | 否 | 设置最大文件名长度，输入 0 表示不限制 | 0 |
| `--prefix` | 否 | 设置重命名前缀，将添加到文件名前面 | 空字符串 |
| `--match_prefix` | 否 | 指定匹配的文件名前缀，多个前缀用逗号分隔，只有匹配的文件才会被重命名 | 空字符串 |
| `--file_extensions` | 否 | 指定匹配的文件后缀，多个后缀用逗号分隔，只有匹配的文件才会被重命名 | 空字符串 |
| `--match_chars` | 否 | 指定匹配重命名文件的字符，多个字符用逗号分隔，只有包含这些字符的文件才会被重命名 | 空字符串 |
| `--remove_chars` | 否 | 指定要从文件名中删除的字符，多个字符用逗号分隔 | 空字符串 |

### 示例
以下是一个使用命令行模式的示例，将 `C:\test` 目录下所有以 `.txt` 结尾的文件名前添加 `new_` 前缀，并将文件名长度限制为 10：
```bash
python FileRenameTool.py C:\test --max_length 10 --prefix new_ --file_extensions .txt
```

## 注意事项
1. 在使用命令行模式时，请确保输入的参数格式正确，否则可能会导致程序出错。
2. 重命名操作是不可逆的，请在操作前备份重要文件，以免造成数据丢失。
3. 如果在重命名过程中出现错误，程序会将错误信息记录到 `rename_errors.log` 文件中，你可以查看该文件以了解具体错误原因。

## 贡献
如果你发现任何问题或有改进建议，欢迎提交 Issue 或 Pull Request。